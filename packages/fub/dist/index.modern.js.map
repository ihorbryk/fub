{"version":3,"file":"index.modern.js","sources":["../ui/Header.js","../ui/Layout.js","../services/layout.js","../ui/pages/Home.js","../classes/Home.js","../ui/Form.js","../classes/ModelField.js","../tool/route.js","../ui/pages/Add.js","../classes/Add.js","../ui/pages/Edit.js","../classes/Edit.js","../ui/pages/NoDataForDisplay.js","../ui/pages/List.js","../classes/List.js","../ui/pages/AccessDenied.js","../classes/App.js","../classes/layout.js","../classes/Model.js","../Fub.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Header() {\n  return (\n    <div className=\"bg-gray-800\">\n      <div className=\"container mx-auto\">\n        <div className=\"flex items-center justify-between h-16\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <Link to=\"/\">\n                <div className=\"text-white font-bold border border-white w-8 h-8 flex items-center justify-center rounded-lg\">\n                  F\n                </div>\n              </Link>\n            </div>\n            <div className=\"hidden md:block\">\n              <div className=\"ml-10 flex items-baseline space-x-4\">\n                {/* TODO: implement menu */}\n                {/* <a\n                  href=\"#\"\n                  class=\"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium\"\n                >\n                  Dashboard\n                </a>\n\n                <a\n                  href=\"#\"\n                  class=\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\"\n                >\n                  Team\n                </a> */}\n              </div>\n            </div>\n          </div>\n          <div className=\"hidden md:block\">\n            <div className=\"ml-4 flex items-center md:ml-6\">\n              <div className=\"ml-3 relative\">\n                {/* TODO: implement right part of menu */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { Link } from \"react-router-dom\";\nimport FeatherIcon from \"feather-icons-react\";\n\nexport default function Layout(props) {\n  const breadCrumbsBuilder = (breadCrumbsArray) => {\n    const breadCrumbs = breadCrumbsArray.map((item) => {\n      if (item[0].length > 0) {\n        return (\n          <Link key={item[1]} to={item[0]} className=\"\">\n            {item[1]}\n          </Link>\n        );\n      }\n      return (\n        <div key={item[1]} className=\"\">\n          {item[1]}\n        </div>\n      );\n    });\n\n    return breadCrumbs.reduce((prev, curr, index) => [\n      prev,\n      <FeatherIcon\n        key={index}\n        icon=\"chevron-right\"\n        size=\"20\"\n        className=\"mx-4\"\n      />,\n      curr,\n    ]);\n  };\n  return (\n    <div className=\"bg-gray-100 h-screen\">\n      <Header />\n      <div className=\"container mx-auto\">\n        {props.breadCrumbs && (\n          <div className=\"flex pt-12 items-center text-gray-500\">\n            {breadCrumbsBuilder(props.breadCrumbs)}\n          </div>\n        )}\n        <div\n          className={`flex justify-between items-center ${\n            props.breadCrumbs ? \"pt-2\" : \"pt-12\"\n          }`}\n        >\n          <h1 className=\"text-3xl font-semybold\">{props.title}</h1>\n          <div>{props.headerActions}</div>\n        </div>\n        <div className=\"pt-6\">{props.children}</div>\n      </div>\n    </div>\n  );\n}\n","const layouts = [];\n\nexport const registerLayout = (layoutClass) => {\n  layouts.push(new layoutClass());\n};\n\nexport const getLayouts = () => {\n  return layouts;\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"../Layout\";\nimport { getLayouts } from \"../../services/layout\";\n\nexport default function Home(props) {\n  const layouts = getLayouts();\n\n  return (\n    <Layout title=\"Home\">\n      <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\n        <ul className=\"bg-white divide-y\">\n          {layouts.map((layout) => (\n            <li key={layout.slug} className=\"px-6 py-4\">\n              <Link\n                className=\"text-blue-500 hover:text-blue-400\"\n                to={`/${layout.slug}`}\n              >\n                {layout.name}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport HomeComponent from \"../ui/pages/Home\";\n\nexport default class Home {\n  render() {\n    return <HomeComponent />;\n  }\n}\n","import React from \"react\";\n\nexport default function Form(props) {\n  const [values, setValues] = React.useState(props.initValues);\n\n  const handleFieldChange = (key, value) => {\n    setValues({ ...values, [key]: value });\n  };\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    props.onSubmit(values);\n  };\n\n  return (\n    <>\n      {props.children({\n        values,\n        handleFieldChange,\n        handleFormSubmit,\n      })}\n    </>\n  );\n}\n\nexport function Input(props) {\n  return (\n    <input\n      {...props}\n      type=\"text\"\n      className=\"p-2 border mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n    />\n  );\n}\n\nexport function TextArea(props) {\n  return (\n    <textarea\n      {...props}\n      className=\"p-2 border mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n    />\n  );\n}\n\nexport function Checkbox(props) {\n  let checked = null;\n\n  if (typeof props.value === \"string\") {\n    checked = props.value === \"true\" ? true : false;\n  } else {\n    checked = props.value;\n  }\n\n  return (\n    <input\n      {...props}\n      onChange={(e) => {\n        e.target.value = !checked;\n        props.onChange(e);\n      }}\n      checked={checked}\n      type=\"checkbox\"\n      className=\"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded\"\n    />\n  );\n}\n\nexport function RadioList(props) {\n  let checked = null;\n\n  if (typeof props.value === \"string\") {\n    checked = props.value;\n\n    if (props.value === \"true\") {\n      checked = true;\n    }\n\n    if (props.value === \"false\") {\n      checked = false;\n    }\n  } else {\n    checked = props.value;\n  }\n\n  return props.choices.map((choice, index) => {\n    return (\n      <div key={choice[0]} className=\"flex items-center\">\n        <input\n          {...props}\n          onChange={(e) => {\n            props.onChange(e);\n          }}\n          checked={checked === choice[0] ? true : false}\n          type=\"radio\"\n          value={choice[0]}\n          id={`${props.id}-${index}`}\n          className=\"block focus:ring-indigo-500 h-4 w-4 text-indigo-600 border border-gray-300\"\n        />\n        <label\n          htmlFor={`${props.id}-${index}`}\n          className=\"inline-block ml-3 text-sm text-gray-700\"\n        >\n          {choice[1]}\n        </label>\n      </div>\n    );\n  });\n}\n\nexport function SelectList(props) {\n  let selected = null;\n\n  if (typeof props.value === \"string\") {\n    selected = props.value;\n\n    if (props.value === \"true\") {\n      selected = true;\n    }\n\n    if (props.value === \"false\") {\n      selected = false;\n    }\n  } else {\n    selected = props.value;\n  }\n\n  return (\n    <select\n      {...props}\n      onChange={(e) => {\n        props.onChange(e);\n      }}\n      className=\"p-2 pr-3 border mt-1 focus:ring-indigo-500 focus:border-indigo-500 block sm:text-sm border-gray-300 rounded-md\"\n    >\n      {props.choices.map((choice, index) => {\n        return (\n          <option\n            key={choice[0]}\n            checked={selected === choice[0] ? true : false}\n            value={choice[0]}\n          >\n            {choice[1]}\n          </option>\n        );\n      })}\n    </select>\n  );\n}\n","import React from \"react\";\nimport { Checkbox, Input, TextArea, RadioList, SelectList } from \"../ui/Form\";\n\nexport class ModelField {\n  constructor(label) {\n    this.label = label;\n  }\n}\n\nexport class CharField extends ModelField {\n  render = (props) => <Input {...props} />;\n}\n\nexport class TextField extends ModelField {\n  render = (props) => <TextArea {...props} />;\n}\n\nexport class BooleanField extends ModelField {\n  render = (props) => <Checkbox {...props} />;\n}\n\nexport class ChoiceField extends ModelField {\n  constructor(label, choices, isSelect = false) {\n    super(label);\n    this.choices = choices;\n    this.isSelect = isSelect;\n  }\n  render = (props) => {\n    return this.isSelect ? <SelectList {...props} /> : <RadioList {...props} />;\n  };\n}\n","export function url(path, pathParams, queryParams) {\n  const urlParts = path.split(\"/\");\n\n  const newUrlParts = urlParts.map((element) => {\n    if (element.charAt(0) === \":\") {\n      return pathParams.shift();\n    }\n    return element;\n  });\n\n  const urlString = newUrlParts.join(\"/\");\n\n  if (!queryParams) {\n    return urlString;\n  }\n\n  const queryArray = Object.keys(queryParams).map((key) => {\n    return `${key}=${queryParams[key]}`;\n  });\n\n  const queryString = queryArray.join(\"&\");\n\n  return urlString + \"?\" + queryString;\n}\n","import React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { ModelField } from \"../../classes/ModelField\";\nimport { getLayouts } from \"../../services/layout\";\nimport Layout from \"../Layout\";\nimport Form from \"../Form\";\nimport { url } from \"../../tool/route\";\n\nexport default function Add(props) {\n  const { layoutSlug } = useParams();\n\n  const currentLayout = getLayouts().find(\n    (layout) => layout.slug === layoutSlug\n  );\n\n  const fields = Object.keys(currentLayout.model).reduce((acc, key) => {\n    if (currentLayout.model[key].__proto__ instanceof ModelField) {\n      acc[key] = currentLayout.model[key];\n    }\n    return acc;\n  }, {});\n\n  return (\n    <Layout\n      title={`Add new ${currentLayout.name}`}\n      breadCrumbs={[\n        [\"/\", <FeatherIcon icon=\"home\" size=\"16\" />],\n        [url(props.paths.list, [currentLayout.slug]), currentLayout.name],\n        [\"\", \"Add new\"],\n      ]}\n    >\n      <div className=\"\">\n        <Form\n          initValues={Object.keys(fields).reduce((acc, key) => {\n            acc[key] = \"\";\n            return acc;\n          }, {})}\n          onSubmit={(values) => {\n            console.log(\"-->\", values);\n            // TODO: call service method for update entity\n          }}\n        >\n          {({ values, handleFieldChange, handleFormSubmit }) => (\n            <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg bg-white\">\n              <form onSubmit={handleFormSubmit} className=\"divide-y\">\n                {Object.keys(fields).map((key) => (\n                  <div key={key} className=\"flex items-center py-3 px-3\">\n                    <div className=\"w-64\">\n                      <label\n                        htmlFor={key}\n                        className=\"block text-sm text-gray-700\"\n                      >\n                        {fields[key].label}\n                      </label>\n                    </div>\n                    <div className=\"w-full\">\n                      {fields[key].render({\n                        id: key,\n                        name: key,\n                        value: values[key],\n                        choices: fields[key].choices,\n                        onChange: (e) =>\n                          handleFieldChange(e.target.name, e.target.value),\n                      })}\n                    </div>\n                  </div>\n                ))}\n                <div className=\"py-3 px-3 text-right bg-gray-100 rounded-b-lg\">\n                  <Link\n                    to={url(props.paths.list, [currentLayout.slug])}\n                    className=\"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md bg-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                  >\n                    Cancel\n                  </Link>\n                  <button\n                    type=\"submit\"\n                    className=\"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                  >\n                    Update\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n        </Form>\n      </div>\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport AddComponent from \"../ui/pages/Add\";\n\nexport default class Add {\n  render(props) {\n    return <AddComponent {...props} />;\n  }\n}\n","import React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { ModelField } from \"../../classes/ModelField\";\nimport { getLayouts } from \"../../services/layout\";\nimport Layout from \"../Layout\";\nimport Form from \"../Form\";\nimport { url } from \"../../tool/route\";\n\nexport default function Edit(props) {\n  const { layoutSlug, id } = useParams();\n\n  const currentLayout = getLayouts().find((layout) => {\n    return layout.slug === layoutSlug;\n  });\n\n  const currentData = currentLayout.data.find(\n    (item) => item[currentLayout.primaryKey] == id\n  );\n\n  if (!currentData) {\n    return <div>No data</div>;\n  }\n\n  const fields = Object.keys(currentLayout.model).reduce((acc, key) => {\n    if (currentLayout.model[key].__proto__ instanceof ModelField) {\n      acc[key] = currentLayout.model[key];\n    }\n    return acc;\n  }, {});\n\n  return (\n    <Layout\n      title={`Editing ${currentLayout.name}`}\n      breadCrumbs={[\n        [\"/\", <FeatherIcon icon=\"home\" size=\"16\" />],\n        [url(props.paths.list, [currentLayout.slug]), currentLayout.name],\n        [\"\", \"Edit\"],\n      ]}\n    >\n      <div className=\"\">\n        <Form\n          initValues={Object.keys(fields).reduce((acc, key) => {\n            acc[key] = currentData[key];\n            return acc;\n          }, {})}\n          onSubmit={(values) => {\n            console.log(\"-->\", values);\n            // TODO: call service method for update entity\n          }}\n        >\n          {({ values, handleFieldChange, handleFormSubmit }) => (\n            <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg bg-white\">\n              <form onSubmit={handleFormSubmit} className=\"divide-y\">\n                {Object.keys(fields).map((key) => (\n                  <div key={key} className=\"flex items-center py-3 px-3\">\n                    <div className=\"w-64\">\n                      <label\n                        htmlFor={key}\n                        className=\"block text-sm text-gray-700\"\n                      >\n                        {fields[key].label}\n                      </label>\n                    </div>\n                    <div className=\"w-full\">\n                      {fields[key].render({\n                        id: key,\n                        name: key,\n                        value: values[key],\n                        choices: fields[key].choices,\n                        onChange: (e) =>\n                          handleFieldChange(e.target.name, e.target.value),\n                      })}\n                    </div>\n                  </div>\n                ))}\n                <div className=\"py-3 px-3 text-right bg-gray-100 rounded-b-lg\">\n                  <Link\n                    to={url(props.paths.list, [currentLayout.slug])}\n                    className=\"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md bg-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                  >\n                    Cancel\n                  </Link>\n                  <button\n                    type=\"submit\"\n                    className=\"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                  >\n                    Update\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n        </Form>\n      </div>\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport EditComponent from \"../ui/pages/Edit\";\n\nexport default class Edit {\n  render(props) {\n    return <EditComponent {...props} />;\n  }\n}\n","import React from \"react\";\nimport Layout from \"../Layout\";\nimport FeatherIcon from \"feather-icons-react\";\n\nexport default function NoDataForDisplay() {\n  return (\n    <Layout title=\"No data for display\">\n      <div className=\"py-10 flex flex-col items-center border rounded-lg text-gray-500\">\n        <FeatherIcon icon=\"inbox\" size={100} />\n        <div className=\"italic\">No Data</div>\n      </div>\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { getLayouts } from \"../../services/layout\";\nimport { url } from \"../../tool/route\";\nimport Layout from \"../Layout\";\nimport NoDataForDisplay from \"./NoDataForDisplay\";\n\nexport default function List(props) {\n  const layouts = getLayouts();\n  const { layoutSlug } = useParams();\n\n  const currentLayout = layouts.find((layout) => layout.slug === layoutSlug);\n  const listFieldNames = currentLayout.getListFieldNames();\n\n  if (currentLayout.data.length === 0) {\n    return <NoDataForDisplay />;\n  }\n\n  return (\n    <Layout\n      title={`Select ${currentLayout.name} for edit`}\n      headerActions={\n        <div>\n          <Link\n            to={url(props.paths.add, [currentLayout.slug])}\n            className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md bg-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            Add new\n          </Link>\n        </div>\n      }\n      breadCrumbs={[\n        [\"/\", <FeatherIcon icon=\"home\" size=\"16\" />],\n        [\"\", currentLayout.name],\n      ]}\n    >\n      <div className=\"shadow overflow-hidden border-gray-200 sm:rounded-lg\">\n        <table className=\"table-auto min-w-full\">\n          <thead>\n            <tr>\n              {Object.keys(currentLayout.data[0]).map((key, index) => {\n                if (currentLayout.getListFields().includes(key)) {\n                  return (\n                    <th\n                      key={key}\n                      className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >\n                      {listFieldNames[key]}\n                    </th>\n                  );\n                } else return null;\n              })}\n              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\" />\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {currentLayout.data.map((dataItem, rowIndex) => (\n              <tr key={rowIndex}>\n                {Object.keys(dataItem).map((key, columnIndex) => {\n                  if (currentLayout.getListFields().includes(key)) {\n                    return (\n                      <td\n                        key={dataItem[key]}\n                        className=\"px-6 py-4 whitespace-nowrap\"\n                      >\n                        {columnIndex === 0 ? (\n                          <Link\n                            to={`/${currentLayout.slug}/${\n                              dataItem[currentLayout.primaryKey]\n                            }`}\n                            className=\"text-blue-500 hover:text-blue-400\"\n                          >\n                            {dataItem[key]}\n                          </Link>\n                        ) : (\n                          dataItem[key]\n                        )}\n                      </td>\n                    );\n                  } else {\n                    return null;\n                  }\n                })}\n                <td className=\"px-6 py-4 text-right text-sm\">\n                  <div\n                    className=\"inline-block text-red-400 cursor-pointer hover:underline\"\n                    onClick={() =>\n                      currentLayout.handleDeleteOne(\n                        dataItem[currentLayout.primaryKey]\n                      )\n                    }\n                  >\n                    Delete\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      {currentLayout.displayPagination && (\n        <div className=\"py-4 text-right flex justify-between items-center\">\n          <div className=\"text-gray-500 text-sm\">\n            {currentLayout.getPaginationText()}\n          </div>\n          <nav\n            className=\"relative z-0 inline-flex shadow-sm -space-x-px\"\n            aria-label=\"Pagination\"\n          >\n            <div\n              onClick={() => currentLayout.handleClickPaginationPrev()}\n              className=\"cursor-pointer relative inline-flex items-center px-1 py-1 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\n            >\n              <span className=\"sr-only\">Previous</span>\n              <FeatherIcon icon=\"chevron-left\" />\n            </div>\n            <div\n              onClick={() => currentLayout.handleClickPaginationNext()}\n              className=\"cursor-pointer relative inline-flex items-center px-1 py-1 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\n            >\n              <span className=\"sr-only\">Next</span>\n              <FeatherIcon icon=\"chevron-right\" />\n            </div>\n          </nav>\n        </div>\n      )}\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport ListComponent from \"../ui/pages/List\";\n\nexport default class List {\n  render(props) {\n    return <ListComponent {...props} />;\n  }\n}\n","import React from \"react\";\nimport Layout from \"../Layout\";\n\nexport default function AccessDenied() {\n  return <Layout title=\"Access denied\" />;\n}\n","import React from \"react\";\nimport Home from \"./Home\";\nimport Add from \"./Add\";\nimport Edit from \"./Edit\";\nimport List from \"./List\";\n\nimport { Route } from \"react-router-dom\";\nimport AccessDenied from \"../ui/pages/AccessDenied\";\n\nexport default class App {\n  // Base app name (displayed in header component)\n  appName = \"Dashboard\";\n\n  // Url for home page\n  homePath = \"/\";\n\n  // Url for add page\n  addPath = \"/:layoutSlug/add\";\n\n  // Url for list page\n  listPath = \"/:layoutSlug\";\n\n  // Url for edit page\n  editPath = \"/:layoutSlug/:id\";\n\n  getPaths() {\n    return {\n      add: this.addPath,\n      list: this.listPath,\n      edit: this.editPath,\n    };\n  }\n\n  // Return home router with Home component\n  home() {\n    const homeInstance = new Home();\n    return (\n      <Route exact path={this.homePath}>\n        {homeInstance.render({ paths: this.getPaths() })}\n      </Route>\n    );\n  }\n\n  // Return list router with List component\n  list() {\n    const listInstance = new List();\n    return (\n      <Route exact path={this.listPath}>\n        {listInstance.render({ paths: this.getPaths() })}\n      </Route>\n    );\n  }\n\n  // Return add router with Add component\n  add() {\n    const addInstance = new Add();\n    return (\n      <Route exact path={this.addPath}>\n        {addInstance.render({ paths: this.getPaths() })}\n      </Route>\n    );\n  }\n\n  // Return edit router with Edit component\n  edit() {\n    const editInstance = new Edit();\n    return (\n      <Route exact path={this.editPath}>\n        {editInstance.render({ paths: this.getPaths() })}\n      </Route>\n    );\n  }\n\n  // return access denied page component\n  accessDenied() {\n    return <AccessDenied />;\n  }\n}\n","export default class Layout {\n  // Entity name displayed on the page header\n  name = \"\";\n\n  // Field used as entity slug in routes\n  slug = \"\";\n\n  // Array of model objects\n  data = [];\n\n  // Object discribe structure of entity\n  model = null;\n\n  // Keys of fields displayed on list page\n  listFields = [];\n\n  // Names of fields displayed on list page\n  listFieldNames = [];\n\n  // Field used as uniq identificator in data set\n  primaryKey = \"id\";\n\n  // Choise display pagination or not\n  displayPagination = true;\n\n  getListFields() {\n    if (this.data.length === 0) {\n      return [];\n    }\n    if (this.listFields.length > 0) {\n      return this.listFields;\n    }\n    return Object.keys(this.data[0]);\n  }\n\n  getListFieldNames() {\n    if (this.listFieldNames.length === 0) {\n      return this.getListFields().reduce((acc, field) => {\n        acc[field] = field;\n        return acc;\n      }, {});\n    }\n    return this.listFieldNames;\n  }\n\n  handleDeleteOne(uniqFieldValue) {\n    console.log(uniqFieldValue);\n  }\n\n  handleClickPaginationNext() {\n    console.info(\n      \"Define handleClickPaginationNext method in your layout for handle pagination next\"\n    );\n  }\n\n  handleClickPaginationPrev() {\n    console.info(\n      \"Define handleClickPaginationPrev method in your layout for handle pagination prev\"\n    );\n  }\n\n  getPaginationText() {\n    return \"\";\n  }\n}\n","export default class Model {\n  // Entity name displayed on the page header\n  name = \"\";\n\n  // Field used as entity slug in routes\n  slug = \"\";\n\n  // Keys of fields displayed on list page\n  listFields = [];\n\n  // Names of fields displayed on list page\n  listFieldNames = [];\n\n  // Field used as uniq identificator\n  primaryKey = \"id\";\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch } from \"react-router-dom\";\nimport App from \"./classes/App\";\nimport {\n  ModelField,\n  CharField,\n  TextField,\n  BooleanField,\n  ChoiceField,\n} from \"./classes/ModelField\";\nimport Layout from \"./classes/layout\";\nimport Model from \"./classes/Model\";\nimport { registerLayout } from \"./services/layout\";\n\nexport { Layout, Model, registerLayout };\nexport { ModelField, CharField, TextField, BooleanField, ChoiceField };\n\nexport const AppContext = React.createContext();\n\nexport default function Fub(props) {\n  const getAppInstance = () => {\n    if (props.customAppClass) {\n      return new props.customAppClass();\n    }\n\n    return new App();\n  };\n\n  const appInstance = getAppInstance();\n\n  const app = {};\n\n  return (\n    <AppContext.Provider value={app}>\n      <Router>\n        <Switch>\n          {appInstance.add()}\n          {appInstance.edit()}\n          {appInstance.list()}\n          {appInstance.home()}\n        </Switch>\n      </Router>\n    </AppContext.Provider>\n  );\n}\n"],"names":["Header","Layout","props","breadCrumbsBuilder","breadCrumbsArray","breadCrumbs","map","item","length","reduce","prev","curr","index","title","headerActions","children","layouts","registerLayout","layoutClass","push","getLayouts","Home","layout","slug","name","render","HomeComponent","Form","values","setValues","React","useState","initValues","handleFieldChange","key","value","handleFormSubmit","e","preventDefault","onSubmit","Input","TextArea","Checkbox","checked","target","onChange","RadioList","choices","choice","id","SelectList","selected","ModelField","constructor","label","CharField","TextField","BooleanField","ChoiceField","isSelect","url","path","pathParams","queryParams","urlParts","split","newUrlParts","element","charAt","shift","urlString","join","queryArray","Object","keys","queryString","Add","layoutSlug","useParams","currentLayout","find","fields","model","acc","__proto__","paths","list","console","log","AddComponent","Edit","currentData","data","primaryKey","EditComponent","NoDataForDisplay","List","listFieldNames","getListFieldNames","add","getListFields","includes","dataItem","rowIndex","columnIndex","handleDeleteOne","displayPagination","getPaginationText","handleClickPaginationPrev","handleClickPaginationNext","ListComponent","AccessDenied","App","appName","homePath","addPath","listPath","editPath","getPaths","edit","home","homeInstance","listInstance","addInstance","editInstance","accessDenied","listFields","field","uniqFieldValue","info","Model","AppContext","createContext","Fub","getAppInstance","customAppClass","appInstance","app","Router"],"mappings":"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"}