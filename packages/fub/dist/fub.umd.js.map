{"version":3,"file":"fub.umd.js","sources":["../ui/Header.js","../ui/Layout.js","../services/layout.js","../ui/pages/Home.js","../classes/Home.js","../ui/pages/AccessDenied.js","../classes/App.js","../ui/Form.js","../classes/ModelField.js","../tool/route.js","../ui/pages/Add.js","../classes/Add.js","../ui/pages/NoDataForDisplay.js","../ui/pages/List.js","../classes/List.js","../ui/pages/Edit.js","../classes/Edit.js","../classes/Layout.js","../classes/Model.js","../Fub.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Header() {\n  return (\n    <div className=\"bg-gray-800\">\n      <div className=\"container mx-auto\">\n        <div className=\"flex items-center justify-between h-16\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <Link to=\"/\">\n                <div className=\"text-white font-bold border border-white w-8 h-8 flex items-center justify-center rounded-lg\">\n                  F\n                </div>\n              </Link>\n            </div>\n            <div className=\"hidden md:block\">\n              <div className=\"ml-10 flex items-baseline space-x-4\">\n                {/* TODO: implement menu */}\n                {/* <a\n                  href=\"#\"\n                  class=\"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium\"\n                >\n                  Dashboard\n                </a>\n\n                <a\n                  href=\"#\"\n                  class=\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\"\n                >\n                  Team\n                </a> */}\n              </div>\n            </div>\n          </div>\n          <div className=\"hidden md:block\">\n            <div className=\"ml-4 flex items-center md:ml-6\">\n              <div className=\"ml-3 relative\">\n                {/* TODO: implement right part of menu */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { Link } from \"react-router-dom\";\nimport FeatherIcon from \"feather-icons-react\";\n\nexport default function Layout(props) {\n  const breadCrumbsBuilder = (breadCrumbsArray) => {\n    const breadCrumbs = breadCrumbsArray.map((item) => {\n      if (item[0].length > 0) {\n        return (\n          <Link key={item[1]} to={item[0]} className=\"\">\n            {item[1]}\n          </Link>\n        );\n      }\n      return (\n        <div key={item[1]} className=\"\">\n          {item[1]}\n        </div>\n      );\n    });\n\n    return breadCrumbs.reduce((prev, curr, index) => [\n      prev,\n      <FeatherIcon\n        key={index}\n        icon=\"chevron-right\"\n        size=\"20\"\n        className=\"mx-4\"\n      />,\n      curr,\n    ]);\n  };\n  return (\n    <div className=\"bg-gray-100 h-screen\">\n      <Header />\n      <div className=\"container mx-auto\">\n        {props.breadCrumbs && (\n          <div className=\"flex pt-12 items-center text-gray-500\">\n            {breadCrumbsBuilder(props.breadCrumbs)}\n          </div>\n        )}\n        <div\n          className={`flex justify-between items-center ${\n            props.breadCrumbs ? \"pt-2\" : \"pt-12\"\n          }`}\n        >\n          <h1 className=\"text-3xl font-semybold\">{props.title}</h1>\n          <div>{props.headerActions}</div>\n        </div>\n        <div className=\"pt-6\">{props.children}</div>\n      </div>\n    </div>\n  );\n}\n","const layouts = new Set();\n\nexport const registerLayout = (layoutClass) => {\n  layouts.add(layoutClass);\n};\n\nexport const getLayouts = () => {\n  const result = [];\n  for (let layout of layouts) result.push(new layout());\n  return result;\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"../Layout\";\nimport { getLayouts } from \"../../services/layout\";\n\nexport default function Home(props) {\n  const layouts = getLayouts();\n\n  return (\n    <Layout title=\"Home\">\n      <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\n        <ul className=\"bg-white divide-y\">\n          {layouts.map((layout) => (\n            <li key={layout.slug} className=\"px-6 py-4\">\n              <Link\n                className=\"text-blue-500 hover:text-blue-400\"\n                to={`/${layout.slug}`}\n              >\n                {layout.name}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport HomeComponent from \"../ui/pages/Home\";\n\nexport default class Home {\n  render() {\n    return <HomeComponent />;\n  }\n}\n","import React from \"react\";\nimport Layout from \"../Layout\";\n\nexport default function AccessDenied() {\n  return <Layout title=\"Access denied\" />;\n}\n","import React from \"react\";\nimport Home from \"./Home\";\n\nimport { Route } from \"react-router-dom\";\nimport AccessDenied from \"../ui/pages/AccessDenied\";\nimport { registerLayout } from \"../services/layout\";\n\nexport default class App {\n  // Base app name (displayed in header component)\n  appName = \"Dashboard\";\n\n  // Url for home page\n  homePath = \"/\";\n\n  constructor(layouts) {\n    layouts.map((layout) => {\n      registerLayout(layout);\n    });\n    this.homeInstance = new Home();\n  }\n\n  // Return home router with Home component\n  home() {\n    return (\n      <Route exact path={this.homePath}>\n        {this.homeInstance.render()}\n      </Route>\n    );\n  }\n\n  // return access denied page component\n  // TODO: move it\n  accessDenied() {\n    return <AccessDenied />;\n  }\n}\n","import React from \"react\";\n\nexport default function Form(props) {\n  const [values, setValues] = React.useState(props.initValues);\n\n  const handleFieldChange = (key, value) => {\n    setValues({ ...values, [key]: value });\n  };\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    props.onSubmit(values);\n  };\n\n  return props.children({\n    values,\n    handleFieldChange,\n    handleFormSubmit,\n  });\n}\n\nexport function Input(props) {\n  return (\n    <input\n      {...props}\n      type=\"text\"\n      className=\"p-2 border mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n    />\n  );\n}\n\nexport function TextArea(props) {\n  return (\n    <textarea\n      {...props}\n      className=\"p-2 border mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n    />\n  );\n}\n\nexport function Checkbox(props) {\n  let checked = null;\n\n  if (typeof props.value === \"string\") {\n    checked = props.value === \"true\" ? true : false;\n  } else {\n    checked = props.value;\n  }\n\n  return (\n    <input\n      {...props}\n      onChange={(e) => {\n        e.target.value = !checked;\n        props.onChange(e);\n      }}\n      checked={checked}\n      type=\"checkbox\"\n      className=\"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded\"\n    />\n  );\n}\n\nexport function RadioList(props) {\n  let checked = null;\n\n  if (typeof props.value === \"string\") {\n    checked = props.value;\n\n    if (props.value === \"true\") {\n      checked = true;\n    }\n\n    if (props.value === \"false\") {\n      checked = false;\n    }\n  } else {\n    checked = props.value;\n  }\n\n  return props.choices.map((choice, index) => {\n    return (\n      <div key={choice[0]} className=\"flex items-center\">\n        <input\n          {...props}\n          onChange={(e) => {\n            props.onChange(e);\n          }}\n          checked={checked === choice[0] ? true : false}\n          type=\"radio\"\n          value={choice[0]}\n          id={`${props.id}-${index}`}\n          className=\"block focus:ring-indigo-500 h-4 w-4 text-indigo-600 border border-gray-300\"\n        />\n        <label\n          htmlFor={`${props.id}-${index}`}\n          className=\"inline-block ml-3 text-sm text-gray-700\"\n        >\n          {choice[1]}\n        </label>\n      </div>\n    );\n  });\n}\n\nexport function SelectList(props) {\n  let selected = null;\n\n  if (typeof props.value === \"string\") {\n    selected = props.value;\n\n    if (props.value === \"true\") {\n      selected = true;\n    }\n\n    if (props.value === \"false\") {\n      selected = false;\n    }\n  } else {\n    selected = props.value;\n  }\n\n  return (\n    <select\n      {...props}\n      onChange={(e) => {\n        props.onChange(e);\n      }}\n      className=\"p-2 pr-3 border mt-1 focus:ring-indigo-500 focus:border-indigo-500 block sm:text-sm border-gray-300 rounded-md\"\n    >\n      {props.choices.map((choice, index) => {\n        return (\n          <option\n            key={choice[0]}\n            checked={selected === choice[0] ? true : false}\n            value={choice[0]}\n          >\n            {choice[1]}\n          </option>\n        );\n      })}\n    </select>\n  );\n}\n","import React from \"react\";\nimport { Checkbox, Input, TextArea, RadioList, SelectList } from \"../ui/Form\";\n\nexport class ModelField {\n  constructor(label) {\n    this.label = label;\n  }\n}\n\nexport class CharField extends ModelField {\n  render = (props) => <Input {...props} />;\n}\n\nexport class TextField extends ModelField {\n  render = (props) => <TextArea {...props} />;\n}\n\nexport class BooleanField extends ModelField {\n  render = (props) => <Checkbox {...props} />;\n}\n\nexport class ChoiceField extends ModelField {\n  constructor(label, choices, isSelect = false) {\n    super(label);\n    this.choices = choices;\n    this.isSelect = isSelect;\n  }\n  render = (props) => {\n    return this.isSelect ? <SelectList {...props} /> : <RadioList {...props} />;\n  };\n}\n","export function url(path, pathParams, queryParams) {\n  const urlParts = path.split(\"/\");\n\n  const newUrlParts = urlParts.map((element) => {\n    if (element.charAt(0) === \":\") {\n      return pathParams.shift();\n    }\n    return element;\n  });\n\n  const urlString = newUrlParts.join(\"/\");\n\n  if (!queryParams) {\n    return urlString;\n  }\n\n  const queryArray = Object.keys(queryParams).map((key) => {\n    return `${key}=${queryParams[key]}`;\n  });\n\n  const queryString = queryArray.join(\"&\");\n\n  return urlString + \"?\" + queryString;\n}\n","import React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { ModelField } from \"../../classes/ModelField\";\nimport { getLayouts } from \"../../services/layout\";\nimport Layout from \"../Layout\";\nimport Form from \"../Form\";\nimport { url } from \"../../tool/route\";\n\nexport default function Add(props) {\n  const { layoutSlug } = useParams();\n\n  const currentLayout = getLayouts().find(\n    (layout) => layout.slug === layoutSlug\n  );\n\n  const fields = Object.keys(currentLayout.model).reduce((acc, key) => {\n    if (currentLayout.model[key].__proto__ instanceof ModelField) {\n      acc[key] = currentLayout.model[key];\n    }\n    return acc;\n  }, {});\n\n  return (\n    <Layout\n      title={`Add new ${currentLayout.name}`}\n      breadCrumbs={[\n        [\"/\", <FeatherIcon icon=\"home\" size=\"16\" />],\n        [url(props.paths.list, [currentLayout.slug]), currentLayout.name],\n        [\"\", \"Add new\"],\n      ]}\n    >\n      <div className=\"\">\n        <Form\n          initValues={Object.keys(fields).reduce((acc, key) => {\n            acc[key] = \"\";\n            return acc;\n          }, {})}\n          onSubmit={(values) => {\n            console.log(\"-->\", values);\n            // TODO: call service method for update entity\n          }}\n        >\n          {({ values, handleFieldChange, handleFormSubmit }) => (\n            <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg bg-white\">\n              <form onSubmit={handleFormSubmit} className=\"divide-y\">\n                {Object.keys(fields).map((key) => (\n                  <div key={key} className=\"flex items-center py-3 px-3\">\n                    <div className=\"w-64\">\n                      <label\n                        htmlFor={key}\n                        className=\"block text-sm text-gray-700\"\n                      >\n                        {fields[key].label}\n                      </label>\n                    </div>\n                    <div className=\"w-full\">\n                      {fields[key].render({\n                        id: key,\n                        name: key,\n                        value: values[key],\n                        choices: fields[key].choices,\n                        onChange: (e) =>\n                          handleFieldChange(e.target.name, e.target.value),\n                      })}\n                    </div>\n                  </div>\n                ))}\n                <div className=\"py-3 px-3 text-right bg-gray-100 rounded-b-lg\">\n                  <Link\n                    to={url(props.paths.list, [currentLayout.slug])}\n                    className=\"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md bg-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                  >\n                    Cancel\n                  </Link>\n                  <button\n                    type=\"submit\"\n                    className=\"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                  >\n                    Update\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n        </Form>\n      </div>\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport AddComponent from \"../ui/pages/Add\";\n\nexport default class Add {\n  render(props) {\n    return <AddComponent {...props} />;\n  }\n}\n","import React from \"react\";\nimport Layout from \"../Layout\";\nimport FeatherIcon from \"feather-icons-react\";\n\nexport default function NoDataForDisplay() {\n  return (\n    <Layout title=\"No data for display\">\n      <div className=\"py-10 flex flex-col items-center border rounded-lg text-gray-500\">\n        <FeatherIcon icon=\"inbox\" size={100} />\n        <div className=\"italic\">No Data</div>\n      </div>\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { getLayouts } from \"../../services/layout\";\nimport { url } from \"../../tool/route\";\nimport Layout from \"../Layout\";\nimport NoDataForDisplay from \"./NoDataForDisplay\";\n\nexport default function List(props) {\n  const { layoutSlug } = useParams();\n  const layouts = getLayouts();\n  const currentLayout = layouts.find((layout) => layout.slug === layoutSlug);\n  const listFieldNames = currentLayout.getListFieldNames();\n\n  if (currentLayout.data.length === 0) {\n    return <NoDataForDisplay />;\n  }\n\n  return (\n    <Layout\n      title={`Select ${currentLayout.name} for edit`}\n      headerActions={\n        <div>\n          <Link\n            to={url(props.paths.add, [currentLayout.slug])}\n            className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md bg-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            Add new\n          </Link>\n        </div>\n      }\n      breadCrumbs={[\n        [\"/\", <FeatherIcon icon=\"home\" size=\"16\" />],\n        [\"\", currentLayout.name],\n      ]}\n    >\n      <div className=\"shadow overflow-hidden border-gray-200 sm:rounded-lg\">\n        <table className=\"table-auto min-w-full\">\n          <thead>\n            <tr>\n              {Object.keys(currentLayout.data[0]).map((key, index) => {\n                if (currentLayout.getListFields().includes(key)) {\n                  return (\n                    <th\n                      key={key}\n                      className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >\n                      {listFieldNames[key]}\n                    </th>\n                  );\n                } else return null;\n              })}\n              <th className=\"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\" />\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {currentLayout.data.map((dataItem, rowIndex) => (\n              <tr key={rowIndex}>\n                {Object.keys(dataItem).map((key, columnIndex) => {\n                  if (currentLayout.getListFields().includes(key)) {\n                    return (\n                      <td\n                        key={dataItem[key]}\n                        className=\"px-6 py-4 whitespace-nowrap\"\n                      >\n                        {columnIndex === 0 ? (\n                          <Link\n                            to={`/${currentLayout.slug}/${\n                              dataItem[currentLayout.primaryKey]\n                            }`}\n                            className=\"text-blue-500 hover:text-blue-400\"\n                          >\n                            {dataItem[key]}\n                          </Link>\n                        ) : (\n                          dataItem[key]\n                        )}\n                      </td>\n                    );\n                  } else {\n                    return null;\n                  }\n                })}\n                <td className=\"px-6 py-4 text-right text-sm\">\n                  <div\n                    className=\"inline-block text-red-400 cursor-pointer hover:underline\"\n                    onClick={() =>\n                      currentLayout.handleDeleteOne(\n                        dataItem[currentLayout.primaryKey]\n                      )\n                    }\n                  >\n                    Delete\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      {currentLayout.displayPagination && (\n        <div className=\"py-4 text-right flex justify-between items-center\">\n          <div className=\"text-gray-500 text-sm\">\n            {currentLayout.getPaginationText()}\n          </div>\n          <nav\n            className=\"relative z-0 inline-flex shadow-sm -space-x-px\"\n            aria-label=\"Pagination\"\n          >\n            <div\n              onClick={() => currentLayout.handleClickPaginationPrev()}\n              className=\"cursor-pointer relative inline-flex items-center px-1 py-1 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\n            >\n              <span className=\"sr-only\">Previous</span>\n              <FeatherIcon icon=\"chevron-left\" />\n            </div>\n            <div\n              onClick={() => currentLayout.handleClickPaginationNext()}\n              className=\"cursor-pointer relative inline-flex items-center px-1 py-1 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\n            >\n              <span className=\"sr-only\">Next</span>\n              <FeatherIcon icon=\"chevron-right\" />\n            </div>\n          </nav>\n        </div>\n      )}\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport ListComponent from \"../ui/pages/List\";\n\nexport default class List {\n  render(props) {\n    return <ListComponent {...props} />;\n  }\n}\n","import React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { ModelField } from \"../../classes/ModelField\";\nimport { getLayouts } from \"../../services/layout\";\nimport Layout from \"../Layout\";\nimport Form from \"../Form\";\nimport { url } from \"../../tool/route\";\n\nexport default function Edit(props) {\n  const { layoutSlug, id } = useParams();\n\n  const currentLayout = getLayouts().find((layout) => {\n    return layout.slug === layoutSlug;\n  });\n\n  const currentData = currentLayout.data.find(\n    (item) => item[currentLayout.primaryKey] == id\n  );\n\n  if (!currentData) {\n    return <div>No data</div>;\n  }\n\n  const fields = Object.keys(currentLayout.model).reduce((acc, key) => {\n    if (currentLayout.model[key].__proto__ instanceof ModelField) {\n      acc[key] = currentLayout.model[key];\n    }\n    return acc;\n  }, {});\n\n  return (\n    <Layout\n      title={`Editing ${currentLayout.name}`}\n      breadCrumbs={[\n        [\"/\", <FeatherIcon icon=\"home\" size=\"16\" />],\n        [url(props.paths.list, [currentLayout.slug]), currentLayout.name],\n        [\"\", \"Edit\"],\n      ]}\n    >\n      <div className=\"\">\n        <Form\n          initValues={Object.keys(fields).reduce((acc, key) => {\n            acc[key] = currentData[key];\n            return acc;\n          }, {})}\n          onSubmit={(values) => {\n            console.log(\"-->\", values);\n            // TODO: call service method for update entity\n          }}\n        >\n          {({ values, handleFieldChange, handleFormSubmit }) => (\n            <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg bg-white\">\n              <form onSubmit={handleFormSubmit} className=\"divide-y\">\n                {Object.keys(fields).map((key) => (\n                  <div key={key} className=\"flex items-center py-3 px-3\">\n                    <div className=\"w-64\">\n                      <label\n                        htmlFor={key}\n                        className=\"block text-sm text-gray-700\"\n                      >\n                        {fields[key].label}\n                      </label>\n                    </div>\n                    <div className=\"w-full\">\n                      {fields[key].render({\n                        id: key,\n                        name: key,\n                        value: values[key],\n                        choices: fields[key].choices,\n                        onChange: (e) =>\n                          handleFieldChange(e.target.name, e.target.value),\n                      })}\n                    </div>\n                  </div>\n                ))}\n                <div className=\"py-3 px-3 text-right bg-gray-100 rounded-b-lg\">\n                  <Link\n                    to={url(props.paths.list, [currentLayout.slug])}\n                    className=\"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md bg-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                  >\n                    Cancel\n                  </Link>\n                  <button\n                    type=\"submit\"\n                    className=\"ml-2 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                  >\n                    Update\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n        </Form>\n      </div>\n    </Layout>\n  );\n}\n","import React from \"react\";\nimport EditComponent from \"../ui/pages/Edit\";\n\nexport default class Edit {\n  render(props) {\n    return <EditComponent {...props} />;\n  }\n}\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Add from \"./Add\";\nimport List from \"./List\";\nimport Edit from \"./Edit\";\n\nexport default class Layout {\n  // Entity name displayed on the page header\n  name = \"\";\n\n  // Field used as entity slug in routes\n  slug = \"\";\n\n  // Array of model objects\n  data = [];\n\n  // Object discribe structure of entity\n  model = null;\n\n  // Keys of fields displayed on list page\n  listFields = [];\n\n  // Names of fields displayed on list page\n  listFieldNames = [];\n\n  // Field used as uniq identificator in data set\n  primaryKey = \"id\";\n\n  // Choise display pagination or not\n  displayPagination = true;\n\n  // Url for add page\n  addPath = \"/:layoutSlug/add\";\n\n  // Url for list page\n  listPath = \"/:layoutSlug\";\n\n  // Url for edit page\n  editPath = \"/:layoutSlug/:id\";\n\n  paths = {\n    add: this.addPath,\n    list: this.listPath,\n    edit: this.editPath,\n  };\n\n  constructor() {\n    this.listObj = new List();\n    this.addObj = new Add();\n    this.editObj = new Edit();\n  }\n\n  // #######\n  // Getters\n  // #######\n\n  getListFields() {\n    if (this.data.length === 0) {\n      return [];\n    }\n    if (this.listFields.length > 0) {\n      return this.listFields;\n    }\n    return Object.keys(this.data[0]);\n  }\n\n  getListFieldNames() {\n    if (this.listFieldNames.length === 0) {\n      return this.getListFields().reduce((acc, field) => {\n        acc[field] = field;\n        return acc;\n      }, {});\n    }\n    return this.listFieldNames;\n  }\n\n  getPaginationText() {\n    return \"\";\n  }\n\n  // ########\n  // Handlers\n  // ########\n\n  handleDeleteOne(uniqFieldValue) {\n    console.log(uniqFieldValue);\n  }\n\n  handleClickPaginationNext() {\n    console.info(\n      \"Define handleClickPaginationNext method in your layout for handle pagination next\"\n    );\n  }\n\n  handleClickPaginationPrev() {\n    console.info(\n      \"Define handleClickPaginationPrev method in your layout for handle pagination prev\"\n    );\n  }\n\n  // ###########\n  // CRUD routes\n  // ###########\n\n  list() {\n    return (\n      <Route exact path={this.listPath}>\n        {this.listObj.render({ paths: this.paths })}\n      </Route>\n    );\n  }\n\n  add() {\n    return (\n      <Route exact path={this.addPath}>\n        {this.addObj.render({ paths: this.paths })}\n      </Route>\n    );\n  }\n\n  edit() {\n    return (\n      <Route exact path={this.editPath}>\n        {this.editObj.render({ paths: this.paths })}\n      </Route>\n    );\n  }\n\n  // Get array of route components\n  pages() {\n    return [this.add(), this.edit(), this.list()];\n  }\n}\n","export default class Model {\n  // Entity name displayed on the page header\n  name = \"\";\n\n  // Field used as entity slug in routes\n  slug = \"\";\n\n  // Keys of fields displayed on list page\n  listFields = [];\n\n  // Names of fields displayed on list page\n  listFieldNames = [];\n\n  // Field used as uniq identificator\n  primaryKey = \"id\";\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport App from \"./classes/App\";\nimport {\n  ModelField,\n  CharField,\n  TextField,\n  BooleanField,\n  ChoiceField,\n} from \"./classes/ModelField\";\nimport Layout from \"./classes/Layout\";\nimport Model from \"./classes/Model\";\nimport { registerLayout, getLayouts } from \"./services/layout\";\nimport List from \"./ui/pages/List\";\n\nexport { Layout, Model, registerLayout };\nexport { ModelField, CharField, TextField, BooleanField, ChoiceField };\n\nexport const AppContext = React.createContext();\n\nexport default function Fub(props) {\n  const getAppInstance = () => {\n    if (props.customAppClass) {\n      return new props.customAppClass(props.layouts);\n    }\n\n    return new App(props.layouts);\n  };\n\n  const appInstance = getAppInstance();\n\n  const app = {};\n\n  return (\n    <AppContext.Provider value={app}>\n      <Router>\n        <Switch>\n          {appInstance.home()}\n          {getLayouts().map((layout) => {\n            return layout.pages();\n          })}\n        </Switch>\n      </Router>\n    </AppContext.Provider>\n  );\n}\n"],"names":["Header","Link","Layout","props","breadCrumbsBuilder","breadCrumbsArray","breadCrumbs","map","item","length","reduce","prev","curr","index","title","headerActions","children","layouts","Set","registerLayout","layoutClass","add","getLayouts","result","layout","push","Home","slug","name","render","HomeComponent","AccessDenied","App","appName","homePath","homeInstance","home","Route","accessDenied","Form","React","useState","initValues","values","setValues","handleFieldChange","key","value","handleFormSubmit","e","preventDefault","onSubmit","Input","TextArea","Checkbox","checked","target","onChange","RadioList","choices","choice","id","SelectList","selected","ModelField","label","CharField","TextField","BooleanField","ChoiceField","isSelect","url","path","pathParams","queryParams","urlParts","split","newUrlParts","element","charAt","shift","urlString","join","queryArray","Object","keys","queryString","Add","useParams","layoutSlug","currentLayout","find","fields","model","acc","__proto__","paths","list","console","log","AddComponent","NoDataForDisplay","List","listFieldNames","getListFieldNames","data","getListFields","includes","dataItem","rowIndex","columnIndex","primaryKey","handleDeleteOne","displayPagination","getPaginationText","handleClickPaginationPrev","handleClickPaginationNext","ListComponent","Edit","currentData","EditComponent","listFields","addPath","listPath","editPath","edit","listObj","addObj","editObj","field","uniqFieldValue","info","pages","Model","AppContext","createContext","Fub","getAppInstance","customAppClass","appInstance","app","Router","Switch"],"mappings":"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"}